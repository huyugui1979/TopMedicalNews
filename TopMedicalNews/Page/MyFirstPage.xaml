<?xml version="1.0" encoding="UTF-8"?>
<local:MyPage Title="医界头条" xmlns="http://xamarin.com/schemas/2014/forms" xmlns:local="clr-namespace:TopMedicalNews;assembly=TopMedicalNews" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" x:Class="TopMedicalNews.MyFirstPage">
	<ContentPage.Resources>
		<ResourceDictionary>
			<!--			<OnPlatform x:Key="imageContact" iOS="设置_btn" Android="setting.png" />-->
			<local:DateTimeFormaterConverter x:Key="dateTimeConverter" />
		</ResourceDictionary>
	</ContentPage.Resources>
	<ContentPage.ToolbarItems>
		<ToolbarItem  Command="{Binding SettingCommand}">
			<ToolbarItem.Icon>
				<OnPlatform x:TypeArguments="FileImageSource" iOS="设置_btn" Android="setting.png" />
			</ToolbarItem.Icon>
		</ToolbarItem>
	</ContentPage.ToolbarItems>
	<ContentPage.Content>
		<StackLayout Orientation="Vertical">
			<StackLayout Orientation="Horizontal">
				<ScrollView Padding="0,0,0,0" Orientation="Horizontal" VerticalOptions="Center">
					<StackLayout x:Name="scrollContent" Orientation="Horizontal">
					</StackLayout>
				</ScrollView>
				<Image WidthRequest="30" Source="IndicatorDown.png" HorizontalOptions="End" VerticalOptions="Center" />
			</StackLayout>
			<local:MyPullToRefreshScrollView VerticalOptions="FillAndExpand">
				<StackLayout Orientation="Vertical">
					<StackLayout Orientation="Vertical" HorizontalOptions="FillAndExpand">
						<local:CarouselScrollView Orientation="Horizontal" HeightRequest="100" SelectedItem="{Binding SelectedFocusNews}" ItemsSource="{Binding FocusNews}">
							<local:CarouselScrollView.ItemTemplate>
								<DataTemplate>
									<Image Aspect="AspectFill" Source="{Binding ImageUri}" />
								</DataTemplate>
							</local:CarouselScrollView.ItemTemplate>
						</local:CarouselScrollView>
						<StackLayout Orientation="Horizontal">
							<Label HorizontalOptions="StartAndExpand" Text="{Binding SelectedFocusNews.Title}" />
							<local:PipSet ItemsSource="{Binding FocusNews}" SelectedItem="{Binding SelectedFocusNews}" />
						</StackLayout>
					</StackLayout>
					<ListView RowHeight="100" x:Name="newsList" ItemsSource="{Binding SelectNews}">
						<ListView.ItemTemplate>
							<DataTemplate>
								<ViewCell>
									<ViewCell.View>
										<StackLayout Orientation="Vertical">
											<StackLayout Orientation="Horizontal">
												<Image Source="{Binding ImageUri}" WidthRequest="80" HeightRequest="60" />
												<StackLayout Orientation="Vertical">
													<Label Text="{Binding Title}" />
													<Label Text="{Binding Thumb}" />
												</StackLayout>
											</StackLayout>
											<StackLayout Orientation="Horizontal">
												<Label Text="{Binding PublishTime,Converter={StaticResource dateTimeConverter}}" />
												<Label Text="{Binding FromSource}" />
												<Label Text="{Binding ViewerNum}" />
												<Label Text="{Binding PosterNum}" />
											</StackLayout>
										</StackLayout>
									</ViewCell.View>
								</ViewCell>
							</DataTemplate>
						</ListView.ItemTemplate>
					</ListView>
				</StackLayout>
			</local:MyPullToRefreshScrollView>
		</StackLayout>
	</ContentPage.Content>
</local:MyPage>